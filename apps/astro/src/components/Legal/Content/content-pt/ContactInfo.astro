---
import Copy from '@repo/ui/Copy'

export const ContactInfo_Query = `
  _type == "ContactInfo" => {
    email,
    tel,
  },
`

type Props = {
  node: {
    email?: string
    tel?: string
  }
}

const { node } = Astro.props
---

<section class="ContactInfo">
  <div>
    {
      node.email && (
        <a href={`mailto:${node.email}`}>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
            <path
              stroke="#F0F7F7"
              d="M1.667 10c0-3.143 0-4.714.976-5.69.977-.976 2.548-.976 5.69-.976h3.334c3.143 0 4.714 0 5.69.976.977.976.977 2.547.977 5.69 0 3.143 0 4.714-.977 5.69-.976.977-2.547.977-5.69.977H8.334c-3.143 0-4.714 0-5.69-.977-.977-.976-.977-2.547-.977-5.69Z"
            />
            <path
              stroke="#F0F7F7"
              d="m5 6.667 1.8 1.499c1.53 1.275 2.295 1.913 3.2 1.913.905 0 1.67-.638 3.2-1.913l1.8-1.5"
            />
          </svg>
          {node.email}
        </a>
        <Copy data={node.email} successMessage='Pomyślnie skopiowano adres e-mail' />
      )
    }
  </div>
  <div>
    {
      node.tel && (
        <a href={`tel:${node.tel}`}>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20">
            <path
              stroke="#F0F7F7"
              d="m13.796 10.755-.38.377s-.901.897-3.364-1.551c-2.462-2.449-1.56-3.346-1.56-3.346l.239-.237c.589-.586.644-1.526.13-2.212l-1.05-1.404c-.636-.849-1.865-.961-2.593-.236l-1.308 1.3c-.362.36-.604.825-.575 1.342.076 1.322.674 4.166 4.01 7.484 3.54 3.519 6.86 3.659 8.218 3.532.43-.04.803-.259 1.104-.558l1.184-1.177c.8-.795.574-2.157-.449-2.713l-1.592-.865c-.671-.365-1.489-.258-2.014.264Z"
            />
          </svg>
          {node.tel}
        </a>
        <Copy data={node.tel} successMessage='Pomyślnie skopiowano numer telefonu' />
      )
    }
  </div>
</section>

<style lang="scss">
  .ContactInfo {
    margin: 1rem 0 1.5rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem 1.5rem;
    a {
      min-height: 2.75rem;
      display: inline-grid;
      vertical-align: middle;
      margin-right: 0.25rem;
      grid-template-columns: auto 1fr;
      gap: 0.75rem;
      align-items: center;
      transition: opacity 500ms var(--easing);
      &:hover {
        opacity: 0.8;
      }
    }
  }
</style>
