---
import LandingPage, { fetchData, staticPaths } from '@templates/[slug].astro'
import { type Language } from '@repo/shared/languages'

const lang = Astro.params.lang as Language
const slug = { pl: '/pl/', en: '/en/' }[lang] + Astro.params.slug
const data = await fetchData(lang, slug)
if (!data) return Astro.redirect('/en')

export const getStaticPaths = () => staticPaths()
---

<LandingPage {...data} />
